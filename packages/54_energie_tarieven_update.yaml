# Energie Tarieven Update - Gebaseerd op tariefkaarten
# Gas tarieven uit PDF en elektriciteitsprijzen

input_number:
  # Gas tarieven uit tariefkaart september 2025
  gas_energieprijs_variabel:
    name: Gas energieprijs variabel
    min: 0
    max: 0.1
    step: 0.0001
    initial: 0.0371  # 3,71 c€/kWh
    unit_of_measurement: "€/kWh"
    icon: mdi:currency-eur
    mode: box
    
  gas_distributiekosten:
    name: Gas distributiekosten
    min: 0
    max: 0.05
    step: 0.0001
    initial: 0.0245  # Gemiddelde Fluvius ~2,45 c€/kWh
    unit_of_measurement: "€/kWh"
    icon: mdi:pipe
    mode: box
    
  gas_transportkosten:
    name: Gas transportkosten
    min: 0
    max: 0.01
    step: 0.0001
    initial: 0.001654  # 0,1654 c€/kWh
    unit_of_measurement: "€/kWh"
    icon: mdi:truck
    mode: box
    
  gas_accijns:
    name: Gas bijzondere accijns
    min: 0
    max: 0.02
    step: 0.0001
    initial: 0.008724  # 0,8724 c€/kWh voor < 12.000 kWh/jaar
    unit_of_measurement: "€/kWh"
    icon: mdi:cash
    mode: box
    
  gas_energiebijdrage:
    name: Gas energiebijdrage
    min: 0
    max: 0.005
    step: 0.0001
    initial: 0.001058  # 0,1058 c€/kWh
    unit_of_measurement: "€/kWh"
    icon: mdi:cash-plus
    mode: box
    
  # Elektriciteit tarieven (te configureren)
  elektriciteit_energieprijs:
    name: Elektriciteit energieprijs
    min: 0
    max: 0.5
    step: 0.001
    initial: 0.25  # Placeholder - vul je werkelijke prijs in
    unit_of_measurement: "€/kWh"
    icon: mdi:currency-eur
    mode: box
    
  capaciteitstarief_prijs_per_kw:
    name: Capaciteitstarief prijs per kW
    min: 0
    max: 10
    step: 0.1
    initial: 3.0  # ~€3/kW/maand schatting
    unit_of_measurement: "€/kW/maand"
    icon: mdi:gauge
    mode: box

template:
  - sensor:
      # Totale gasprijs per kWh
      - name: "Gas totaalprijs per kWh"
        unique_id: gas_total_price_kwh
        state: >
          {% set energie = states('input_number.gas_energieprijs_variabel') | float(0) %}
          {% set distributie = states('input_number.gas_distributiekosten') | float(0) %}
          {% set transport = states('input_number.gas_transportkosten') | float(0) %}
          {% set accijns = states('input_number.gas_accijns') | float(0) %}
          {% set bijdrage = states('input_number.gas_energiebijdrage') | float(0) %}
          {{ (energie + distributie + transport + accijns + bijdrage) | round(4) }}
        unit_of_measurement: "€/kWh"
        device_class: monetary
        attributes:
          energieprijs: "{{ states('input_number.gas_energieprijs_variabel') | float(0) }}"
          nettarieven: "{{ (states('input_number.gas_distributiekosten') | float(0) + states('input_number.gas_transportkosten') | float(0)) | round(4) }}"
          taksen: "{{ (states('input_number.gas_accijns') | float(0) + states('input_number.gas_energiebijdrage') | float(0)) | round(4) }}"
          btw_info: "BTW inbegrepen in alle prijzen"